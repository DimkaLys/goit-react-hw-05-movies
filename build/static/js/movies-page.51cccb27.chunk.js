(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5],{67:function(t,e,a){t.exports={list:"MoviesPage_list__2cVLU",item:"MoviesPage_item__3zPfW",itemDiv:"MoviesPage_itemDiv__6Itno",link:"MoviesPage_link__3jM5v",divButton:"MoviesPage_divButton__1RsdU",button:"MoviesPage_button__18IMI"}},68:function(t,e,a){t.exports={header:"MoviesSearch_header__9TM8p",form:"MoviesSearch_form__3kh-T",button:"MoviesSearch_button__3jFQw",input:"MoviesSearch_input__1m9p3"}},77:function(t,e,a){"use strict";a.r(e);var n=a(65),c=a(62);var o=a(61);function r(t){return function(t){if(Array.isArray(t))return Object(c.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=a(59),s=a(67),u=a.n(s),b=a(15),l=a(0),j=a(3),h=a(9),m=a(60),d=a(68),p=a.n(d),f=a(1),_=function(t){var e=t.onValueSubmit,a=Object(l.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(f.jsx)("header",{className:p.a.header,children:Object(f.jsxs)("form",{className:p.a.form,onSubmit:function(t){t.preventDefault(),""===c.trim()&&b.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),e(c),o("")},children:[Object(f.jsx)("button",{type:"submit",className:p.a.button,children:Object(f.jsx)("span",{className:p.a.buttonLabel,children:"Search"})}),Object(f.jsx)("input",{className:p.a.input,type:"text",value:c,onChange:function(t){o(t.target.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};e.default=function(){var t=Object(j.f)(),e=Object(j.g)(),a=Object(j.i)().url,c=Object(l.useState)([]),o=Object(i.a)(c,2),s=o[0],d=o[1],p=Object(l.useState)(1),v=Object(i.a)(p,2),O=v[0],g=v[1],x=new URLSearchParams(e.search).get("query");Object(l.useEffect)((function(){x?Object(m.d)(x,O).then((function(t){0===t.results.length?(b.b.warn("\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u0441 \u0442\u0430\u043a\u0438\u043c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c, \u043a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043d\u0435\u0442"),d([])):d((function(e){return[].concat(r(e),r(t.results))}))})).catch((function(t){console.log(t)})):d([])}),[x,O]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_,{onValueSubmit:function(a){g(1),d([]),t.push(Object(n.a)(Object(n.a)({},e),{},{search:"query=".concat(a)}))}}),s&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("ul",{className:u.a.list,children:s.map((function(t){var n=t.id,c=t.original_title,o=t.name,r=t.poster_path;return Object(f.jsx)("li",{className:u.a.item,children:Object(f.jsx)(h.b,{to:{pathname:"".concat(a,"/").concat(n),state:{from:e}},className:u.a.link,children:Object(f.jsxs)("div",{className:u.a.itemDiv,children:[Object(f.jsx)("img",{src:r?"".concat("https://image.tmdb.org/t/p/w500").concat(r):"https://cdn.pixabay.com/photo/2018/01/04/15/51/404-error-3060993_960_720.png",alt:c,width:"240px"}),Object(f.jsx)("p",{children:null!==c&&void 0!==c?c:o})]})})},n)}))}),0!==s.length&&Object(f.jsx)("div",{className:u.a.divButton,children:Object(f.jsx)("button",{className:u.a.button,type:"button",onClick:function(){g((function(t){return t+1}))},children:"LoadMore"})})]})]})}}}]);
//# sourceMappingURL=movies-page.51cccb27.chunk.js.map